<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Rock Paper Scissors</title>
</head>
<body>


 <p id="computerOutput"> </p>

 Computer points: 
 <p id="computerPoints"> </p>

 <p id="playerOutput"> </p>

 <p>Player points:</p>
 <p id="playerPoints"> </p>
 

 <p id="output" onClick="playRound()" onClick="counter++"></p>

 <button id="playGame">Play Game</button>


    <script>
    
        function computerPlay() {
            let randomNumber = Math.floor((Math.random() * 3) + 1);
            let computerChoice = "";
            let computerOutput = document.getElementById("computerOutput");

            if (randomNumber === 1) {
                computerOutput.innerHTML = "Computer chose Rock";
                return "rock";
            } else if (randomNumber === 2) {
                computerOutput.innerHTML = "Computer chose Paper";
                return "paper";
            } else if (randomNumber === 3) {
                computerOutput.innerHTML =  "Computer chose Scissors";
                return "scissors";
            }
        }




        function playerPlay() {
            let playerInput = prompt("Choose Rock, Paper or Scissors");
            let playerOutput = document.getElementById("playerOutput");

            

            if (playerInput.toUpperCase() === "ROCK") {
                playerOutput.innerHTML = "You chose rock";
                return "rock";
            } else if (playerInput.toUpperCase() === "PAPER") {
                playerOutput.innerHTML = "You chose paper";
                return "paper";
            } else if (playerInput.toUpperCase() === "SCISSORS") {
                playerOutput.innerHTML = "You chose scissors";
                return "scissors";
            } else {
                alert("Wrong input. Choose between Rock, Paper or Scissors");
                playerPlay();
            }

        }


        document.getElementById("playGame").addEventListener("click", playRound);


        var counter = 0;
        var computerPoints = 0;
        var playerPoints = 0;
       

        function playRound() {

           counter++;

            const computerSelection = computerPlay().toUpperCase();
            const playerSelection = playerPlay().toUpperCase();
           
            let output = document.getElementById("output");

            if (playerSelection === computerSelection) {
                output.innerHTML = `it is a tie player choose ${playerSelection} computer choose ${computerSelection} `;
            } 

            if (playerSelection === "ROCK") {
                if (computerSelection === "PAPER") {
                    output.innerHTML = `You lose! ${computerSelection} beats ${playerSelection} `
                    computerPoints++;
                } else if (computerSelection === "SCISSORS") {
                    output.innerHTML = `You win! ${playerSelection} beats ${computerSelection} `
                    playerPoints++;
                }
            }

            if (playerSelection === "PAPER") {
                if (computerSelection === "SCISSORS") {
                    output.innerHTML = `You lose! ${computerSelection} beats ${playerSelection} `
                    computerPoints++;
                } else if (computerSelection === "ROCK") {
                    output.innerHTML = `You win! ${playerSelection} beats ${computerSelection} `
                    playerPoints++;
                }
            }
            
            if (playerSelection === "SCISSORS") {
                if (computerSelection === "ROCK") {
                    output.innerHTML = `You lose! ${computerSelection} beats ${playerSelection} `
                    computerPoints++;
                } else if (computerSelection === "PAPER") {
                    output.innerHTML = `You win! ${playerSelection} beats ${computerSelection} `
                    playerPoints++;
                }
            }

            document.getElementById("computerPoints").innerHTML = computerPoints;
            document.getElementById("playerPoints").innerHTML = playerPoints;

            if (counter === 5) {

              
                if (computerPoints === playerPoints){
                        alert(`It is a tie. You both have ${computerPoints} points. `);
                    }
                else if (computerPoints > playerPoints) {
                        alert(`You lost. The computer beat you with ${computerPoints} points. `);
            }    else if (playerPoints > computerPoints) {
                        alert(`You won! You overpowered the computer with ${playerPoints} points. `)
            }
            //reset everything, also the content of the html
            counter = 0;
            computerPoints = 0;
            playerPoints = 0;
            document.getElementById("computerPoints").innerHTML = 0;
            document.getElementById("playerPoints").innerHTML = 0;
            document.getElementById("computerOutput").innerHTML = "";
            document.getElementById("playerOutput").innerHTML = "";
            document.getElementById("output").innerHTML = "";

                }
                console.log(counter);
            }
            
    </script>
</body>
</html>