<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css">

    <style>

    html {
        background-image: linear-gradient( 135deg, #69FF97 10%, #00E4FF 100%);
        height: 100%;
    }
    
    .columns {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #computerOutput, #playerOutput {
        margin-top: 5vw;
    }

    .column {
        text-align: center;
    }

    #output, #computerOutput, #playerOutput {
        font-size: 2em;
    }

    #explanation {
        margin-top: 3vw;
        font-style: italic;
        font-size: 1em;
    }

    p {
        font-size: 2em;
    }

    @media only screen and (max-width: 768px) {
        p {
            font-size: 1em;
        }

        #explanation {
            font-size: 0.8em;
        }
        #output, #computerOutput, #playerOutput {
        font-size: 1em;
    }

    }

    


    
    </style>

</head>
<body>

    
    

<div class="container">

        <div class="columns">
        <div class="column" id="explanation">
            <p>Best of 5. Play 5 rounds of Rock, Paper or Scissors.</p>
            <p>Press play game and type in your choice. Good luck!</p>
        </div>
    </div>

    <div class="columns">
        <div class="column">
                <p id="playerOutput"> </p>
        </div>
        <div class="column">
                <p id="computerOutput"> </p>
        </div>
    </div>

    <div class="columns">
        <div class="column">
                <p>Player points:</p>
                <p id="playerPoints"> </p>
        </div>
            <div class="column">
                    <p>Computer points: </p>
                    <p id="computerPoints"> </p>
                               </div>
        </div>

        <div class="colums">
            <div class="column">
                    <p id="output" onClick="playRound()" onClick="counter++"></p>
            </div>
        </div>

        <div class="colums">
                <div class="column">
                        <button class="button is-large is-success" id="playGame">Play Game</button>
                </div>
        </div>
</div>
 



 




    <script>
    
        function computerPlay() {
            let randomNumber = Math.floor((Math.random() * 3) + 1);
            let computerChoice = "";
            let computerOutput = document.getElementById("computerOutput");

            if (randomNumber === 1) {
                computerOutput.innerHTML = "Computer chose Rock";
                return "rock";
            } else if (randomNumber === 2) {
                computerOutput.innerHTML = "Computer chose Paper";
                return "paper";
            } else if (randomNumber === 3) {
                computerOutput.innerHTML =  "Computer chose Scissors";
                return "scissors";
            }
        }




        function playerPlay() {
            let playerInput = prompt("Choose Rock, Paper or Scissors");
            let playerOutput = document.getElementById("playerOutput");

            

            if (playerInput.toUpperCase() === "ROCK") {
                playerOutput.innerHTML = "You chose Rock";
                return "rock";
            } else if (playerInput.toUpperCase() === "PAPER") {
                playerOutput.innerHTML = "You chose Paper";
                return "paper";
            } else if (playerInput.toUpperCase() === "SCISSORS") {
                playerOutput.innerHTML = "You chose Scissors";
                return "scissors";
            } else {
                alert("Wrong input. Choose between Rock, Paper or Scissors");
                playerPlay();
            }

        }


        document.getElementById("playGame").addEventListener("click", playRound);


        var counter = 0;
        var computerPoints = 0;
        var playerPoints = 0;
       

        function playRound() {

           counter++;

            const computerSelection = computerPlay().toUpperCase();
            const playerSelection = playerPlay().toUpperCase();
           
            let output = document.getElementById("output");

            if (playerSelection === computerSelection) {
                output.innerHTML = `It is a tie. You choose ${playerSelection} computer choose ${computerSelection} `;
            } 

            if (playerSelection === "ROCK") {
                if (computerSelection === "PAPER") {
                    output.innerHTML = `You lose! ${computerSelection} beats ${playerSelection} `
                    computerPoints++;
                } else if (computerSelection === "SCISSORS") {
                    output.innerHTML = `You win! ${playerSelection} beats ${computerSelection} `
                    playerPoints++;
                }
            }

            if (playerSelection === "PAPER") {
                if (computerSelection === "SCISSORS") {
                    output.innerHTML = `You lose! ${computerSelection} beats ${playerSelection} `
                    computerPoints++;
                } else if (computerSelection === "ROCK") {
                    output.innerHTML = `You win! ${playerSelection} beats ${computerSelection} `
                    playerPoints++;
                }
            }
            
            if (playerSelection === "SCISSORS") {
                if (computerSelection === "ROCK") {
                    output.innerHTML = `You lose! ${computerSelection} beats ${playerSelection} `
                    computerPoints++;
                } else if (computerSelection === "PAPER") {
                    output.innerHTML = `You win! ${playerSelection} beats ${computerSelection} `
                    playerPoints++;
                }
            }

            document.getElementById("computerPoints").innerHTML = computerPoints;
            document.getElementById("playerPoints").innerHTML = playerPoints;

            if (counter === 5) {

                function endGame() {
              
                if (computerPoints === playerPoints){
                        alert(`It is a tie. You both have ${computerPoints} points. `);
                    }
                else if (computerPoints > playerPoints) {
                        alert(`You lost. The computer beat you with ${computerPoints} points. `);
            }    else if (playerPoints > computerPoints) {
                        alert(`You won! You overpowered the computer with ${playerPoints} points. `)
            }
            //reset everything, also the content of the html
            counter = 0;
            computerPoints = 0;
            playerPoints = 0;
            document.getElementById("computerPoints").innerHTML = 0;
            document.getElementById("playerPoints").innerHTML = 0;
            document.getElementById("computerOutput").innerHTML = "";
            document.getElementById("playerOutput").innerHTML = "";
            document.getElementById("output").innerHTML = "";

                }
                endGame();
                console.log(counter);
            }
            }
            
    </script>
</body>
</html>